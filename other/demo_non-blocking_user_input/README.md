# Demo non-blocking user input

示範如何讓 python 程式持續執行主要邏輯（e.g. 影像辨識），但又可以隨時接收使用者輸入（e.g. 強制手動遙控車子）
因為一般的 stdin.read() 或 input() 都是阻塞式的，會等到使用者輸數並按下 carrige return 才繼續往下執行，這邊希望是非阻塞式（non-blocking）的讀取輸入，所以使用 python 的 select 模組監控 stdin 的可讀取狀態來實現

## 執行：

```
$ node demo.js
```

## 輸出：

```
[routine_work_accept_user_input.py]
[routine_work_accept_user_input.py] 發現 stdin 可讀取，收到使用者輸入：1
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py]
[routine_work_accept_user_input.py] 發現 stdin 可讀取，收到使用者輸入：2
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py]
[routine_work_accept_user_input.py] 發現 stdin 可讀取，收到使用者輸入：4
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
[routine_work_accept_user_input.py] 持續跑影像辨識...
```

參考資料：

- [Non-blocking read from stdin in python](https://repolinux.wordpress.com/2012/10/09/non-blocking-read-from-stdin-in-python/)
- [深入理解 Python 異步編程（上）](http://aju.space/2017/07/31/Drive-into-python-asyncio-programming-part-1.html)
- [akkana/scripts/keyreader.py](https://github.com/akkana/scripts/blob/master/keyreader.py)
- [Reading keypresses in Python](shallowsky.com/blog/programming/python-read-characters.html)
- [asyncio 教學](https://morvanzhou.github.io/tutorials/data-manipulation/scraping/4-02-asyncio/)（未採用 asyncio，但是個好選項）
